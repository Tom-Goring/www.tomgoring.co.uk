(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(3);const a=r.a.new(),s=a.width(),o=a.height();let i=new ArrayBuffer(16);for(var u=new Uint8Array(i),f=0;f<16;f++)u[f]=0;const l=document.getElementById("chip8-canvas");l.height=19*o+1,l.width=19*s+1;const d=l.getContext("2d");document.getElementById("files").addEventListener("change",(function(){const e=this.files[0];var t=new FileReader;t.onload=function(){var e=t.result,n=new Uint8Array(e);a.load(n)},t.readAsArrayBuffer(e)})),document.getElementById("reset").addEventListener("click",e=>{a.trigger_reset()});const h=(e,t)=>e*s+t;l.addEventListener("keydown",(function(e){switch(e.keyCode){case 49:u[0]=1;break;case 50:u[1]=1;break;case 51:u[2]=1;break;case 52:u[3]=1;break;case 81:u[4]=1;break;case 87:u[5]=1;break;case 69:u[6]=1;break;case 82:u[7]=1;break;case 65:u[8]=1;break;case 83:u[9]=1;break;case 68:u[10]=1;break;case 70:u[11]=1;break;case 90:u[12]=1;break;case 88:u[13]=1;break;case 67:u[14]=1;break;case 86:u[15]=1}}),!0),l.addEventListener("keyup",(function(e){switch(e.keyCode){case 49:u[0]=0;break;case 50:u[1]=0;break;case 51:u[2]=0;break;case 52:u[3]=0;break;case 81:u[4]=0;break;case 87:u[5]=0;break;case 69:u[6]=0;break;case 82:u[7]=0;break;case 65:u[8]=0;break;case 83:u[9]=0;break;case 68:u[10]=0;break;case 70:u[11]=0;break;case 90:u[12]=0;break;case 88:u[13]=0;break;case 67:u[14]=0;break;case 86:u[15]=0}}),!0),setInterval((function(){a.set_key_array(u),a.tick()}),2),setInterval((function(){(()=>{const e=a.pixels(),t=new Uint8Array(c.p.buffer,e,s*o);d.beginPath();for(let e=0;e<o;e++)for(let n=0;n<s;n++){const r=h(e,n);d.fillStyle=0===t[r]?"#000000":"#FFFFFF",d.fillRect(18*n,18*e,18,18)}d.stroke()})()}),1e3/60)},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return A})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return x}));var r=n(3);let c=null;function a(){return null!==c&&c.buffer===r.p.buffer||(c=new Uint8Array(r.p.buffer)),c}let s=0;function o(e){const t=r.c(1*e.length);return a().set(e,t/1),s=e.length,t}const i=new Array(32);function u(e){return i[e]}i.fill(void 0),i.push(void 0,null,!0,!1);let f=i.length;function l(e){const t=u(e);return function(e){e<36||(i[e]=f,f=e)}(e),t}let d=new TextDecoder("utf-8");function h(e,t){return d.decode(a().subarray(e,e+t))}function b(e){f===i.length&&i.push(i.length+1);const t=f;return f=i[t],i[t]=e,t}let k,p=new TextEncoder("utf-8");k="function"==typeof p.encodeInto?function(e){let t=e.length,n=r.c(t),c=0;{const t=a();for(;c<e.length;c++){const r=e.charCodeAt(c);if(r>127)break;t[n+c]=r}}if(c!==e.length){e=e.slice(c),n=r.d(n,t,t=c+3*e.length);const s=a().subarray(n+c,n+t);c+=p.encodeInto(e,s).written}return s=c,n}:function(e){let t=e.length,n=r.c(t),c=0;{const t=a();for(;c<e.length;c++){const r=e.charCodeAt(c);if(r>127)break;t[n+c]=r}}if(c!==e.length){const s=p.encode(e.slice(c));n=r.d(n,t,t=c+s.length),a().set(s,n+c),c+=s.length}return s=c,n};let g=null;function w(){return null!==g&&g.buffer===r.p.buffer||(g=new Int32Array(r.p.buffer)),g}class y{static __wrap(e){const t=Object.create(y.prototype);return t.ptr=e,t}free(){const e=this.ptr;this.ptr=0,r.a(e)}static new(){const e=r.h();return y.__wrap(e)}height(){return r.f(this.ptr)>>>0}width(){return r.o(this.ptr)>>>0}pixels(){return r.j(this.ptr)}get_index(e,t){return r.e(this.ptr,e,t)>>>0}trigger_reset(){r.n(this.ptr)}pause(){r.i(this.ptr)}start(){r.l(this.ptr)}load(e){r.g(this.ptr,o(e),s)}set_key_array(e){r.k(this.ptr,o(e),s)}tick(){r.m(this.ptr)}}const v=function(e){l(e)},A=function(e,t){return b(h(e,t))},_=function(){return b(new Error)},E=function(e,t){const n=u(t).stack,r=k(n),c=s;w()[e/4+0]=r,w()[e/4+1]=c},I=function(e,t){const n=h(e,t).slice();r.b(e,1*t),console.error(n)},m=function(e){console.log(u(e))},x=function(e,t){throw new Error(h(e,t))}},function(e,t,n){"use strict";var r=n.w[e.i];e.exports=r;n(2);r.q()}]]);